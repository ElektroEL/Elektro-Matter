<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elektro.Matter ‚Äî 3D-–ø–µ—á–∞—Ç—å –±—É–¥—É—â–µ–≥–æ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== –°–ë–†–û–° –ò –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background: #0a0a0a;
            color: #f0f0f0;
            line-height: 1.6;
            overflow-x: hidden;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        section {
            padding: 80px 0;
        }

        /* ===== –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù ===== */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
            background: linear-gradient(135deg, #0a1d3c 0%, #000000 100%);
            overflow: hidden;
        }
        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(155, 255, 0, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 100, 255, 0.03) 0%, transparent 50%);
        }
        .hero-content {
            position: relative;
            z-index: 2;
            width: 100%;
        }
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 60px;
            font-size: 1.8rem;
            font-weight: 700;
        }
        .logo-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #0a1d3c, #9bff00);
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
            animation: pulse 2s infinite alternate;
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(1.05); opacity: 1; }
        }
        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            background: linear-gradient(to right, #ffffff, #9bff00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }
        .hero p {
            font-size: 1.2rem;
            color: #aaa;
            max-width: 600px;
            margin-bottom: 40px;
        }
        .cta-buttons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        .btn {
            padding: 15px 30px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            font-size: 1rem;
            border: none;
            cursor: pointer;
        }
        .btn-primary {
            background: #9bff00;
            color: #0a1d3c;
        }
        .btn-primary:hover {
            background: #ccff00;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(155, 255, 0, 0.2);
        }
        .btn-secondary {
            background: transparent;
            color: #9bff00;
            border: 2px solid #9bff00;
        }
        .btn-secondary:hover {
            background: rgba(155, 255, 0, 0.1);
            transform: translateY(-3px);
        }

        /* ===== –§–û–†–ú–ê ===== */
        .form-section {
            background: #111;
            border-radius: 20px;
            margin-top: -50px;
            position: relative;
            z-index: 10;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }
        .form-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .form-header {
            text-align: center;
            margin-bottom: 40px;
        }
        .form-header h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #fff;
        }
        .form-header p {
            color: #aaa;
        }
        .form-steps {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            color: #666;
            transition: color 0.3s;
        }
        .step.active {
            color: #9bff00;
        }
        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            background: #222;
            border: 2px solid #333;
        }
        .step.active .step-circle {
            background: #9bff00;
            color: #0a1d3c;
            border-color: #9bff00;
        }
        .form-content {
            background: #151515;
            border-radius: 15px;
            padding: 40px;
        }
        .form-group {
            margin-bottom: 25px;
        }
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #fff;
            font-weight: 600;
        }
        .form-control {
            width: 100%;
            padding: 15px;
            background: #222;
            border: 2px solid #333;
            border-radius: 8px;
            color: #fff;
            font-size: 1rem;
            transition: border 0.3s;
        }
        .form-control:focus {
            outline: none;
            border-color: #9bff00;
        }
        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }
        .file-upload {
            position: relative;
            border: 2px dashed #444;
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: border 0.3s;
        }
        .file-upload:hover {
            border-color: #9bff00;
        }
        .file-upload input {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }
        .file-upload-icon {
            font-size: 2.5rem;
            color: #666;
            margin-bottom: 15px;
        }
        .file-list {
            margin-top: 15px;
            text-align: left;
        }
        .file-item {
            background: #222;
            padding: 10px 15px;
            border-radius: 6px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .file-item span {
            color: #9bff00;
            flex: 1;
            word-break: break-all;
            padding-right: 10px;
        }
        .file-remove {
            color: #ff4444;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            padding: 0 5px;
            transition: color 0.3s;
        }
        .file-remove:hover {
            color: #ff7777;
        }
        .file-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            min-width: 80px;
        }
        .file-size {
            color: #aaa;
            font-size: 0.8rem;
        }
        .file-limit-warning {
            margin-top: 10px;
            padding: 8px 12px;
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffc107;
            border-radius: 6px;
            color: #ffc107;
            font-size: 0.9rem;
            display: none;
        }
        .btn-submit {
            width: 100%;
            padding: 18px;
            background: linear-gradient(45deg, #0a1d3c, #9bff00);
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.3s;
            margin-top: 20px;
        }
        .btn-submit:hover {
            transform: translateY(-3px);
        }
        .btn-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* ===== –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø ===== */
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            display: none;
            text-align: center;
        }
        .alert-success {
            background: rgba(0, 255, 0, 0.1);
            color: #0f0;
            border: 1px solid #0f0;
        }
        .alert-error {
            background: rgba(255, 0, 0, 0.1);
            color: #f00;
            border: 1px solid #f00;
        }

        /* ===== –§–£–¢–ï–† ===== */
        footer {
            background: #050505;
            padding: 40px 0;
            text-align: center;
            color: #777;
            margin-top: 80px;
        }
        .footer-logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #9bff00;
            margin-bottom: 20px;
        }
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .footer-links a {
            color: #aaa;
            text-decoration: none;
        }
        .footer-links a:hover {
            color: #9bff00;
        }

        /* ===== –ê–î–ê–ü–¢–ò–í ===== */
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .form-steps { flex-direction: column; align-items: center; }
            .form-content { padding: 25px; }
            .cta-buttons { flex-direction: column; }
            .btn { width: 100%; justify-content: center; }
            .file-item { flex-direction: column; align-items: flex-start; }
            .file-info { flex-direction: row; justify-content: space-between; width: 100%; margin-top: 5px; }
        }
    </style>
</head>
<body>
    <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <section class="hero">
        <div class="container hero-content">
            <div class="logo">
                <div class="logo-icon"></div>
                <span>Elektro<span style="color:#9bff00;">.Matter</span></span>
            </div>
            <h1>–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑—É–µ–º –≤–∞—à–∏ –∏–¥–µ–∏</h1>
            <p>–û—Ç —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –∏–º–ø—É–ª—å—Å–∞ ‚Äî –∫ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –º–∞—Ç–µ—Ä–∏–∏. –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è 3D-–ø–µ—á–∞—Ç—å –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤, –¥–∏–∑–∞–π–Ω–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞.</p>
            <div class="cta-buttons">
                <a href="#order" class="btn btn-primary">
                    <i class="fas fa-bolt"></i> –ó–∞–∫–∞–∑–∞—Ç—å –ø–µ—á–∞—Ç—å
                </a>
                <a href="#how" class="btn btn-secondary">
                    <i class="fas fa-play-circle"></i> –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
                </a>
            </div>
        </div>
    </section>

    <!-- –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ -->
    <section id="order" class="form-section">
        <div class="container form-container">
            <div class="form-header">
                <h2>–û—Ç–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Ä–∞—Å—á—ë—Ç</h2>
                <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ 3D-–º–æ–¥–µ–ª—å –∏–ª–∏ –æ–ø–∏—à–∏—Ç–µ –∏–¥–µ—é ‚Äî –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.</p>
            </div>

            <div class="form-steps">
                <div class="step active">
                    <div class="step-circle">1</div>
                    <div class="step-title">–î–µ—Ç–∞–ª–∏</div>
                </div>
                <div class="step">
                    <div class="step-circle">2</div>
                    <div class="step-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                </div>
                <div class="step">
                    <div class="step-circle">3</div>
                    <div class="step-title">–û—Ç–ø—Ä–∞–≤–∫–∞</div>
                </div>
            </div>

            <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
            <div id="alertSuccess" class="alert alert-success">
                <i class="fas fa-check-circle"></i> –ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.
            </div>
            <div id="alertError" class="alert alert-error">
                <i class="fas fa-exclamation-circle"></i> –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é.
            </div>

            <!-- –§–æ—Ä–º–∞ -->
            <form id="orderForm" class="form-content">
                <div class="form-group">
                    <label for="projectName"><i class="fas fa-cube"></i> –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
                    <input type="text" id="projectName" class="form-control" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ö–æ—Ä–ø—É—Å –¥–ª—è –≥–∞–¥–∂–µ—Ç–∞" required>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-file-upload"></i> 3D-—Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)</label>
                    <div class="file-upload">
                        <input type="file" id="modelFile" accept=".stl,.obj,.3mf,.step,.zip,.rar" multiple>
                        <div class="file-upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</p>
                        <p><small>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: STL, OBJ, 3MF, STEP, ZIP, RAR (–¥–æ 50 –ú–ë –∫–∞–∂–¥—ã–π, –º–∞–∫—Å–∏–º—É–º 5 —Ñ–∞–π–ª–æ–≤)</small></p>
                    </div>
                    <div id="fileList" class="file-list"></div>
                    <div id="fileCounter" class="file-counter" style="margin-top: 10px; color: #9bff00; display: none;">
                        <i class="fas fa-file-alt"></i> –í—ã–±—Ä–∞–Ω–æ —Ñ–∞–π–ª–æ–≤: <span id="fileCount">0</span>/5
                    </div>
                    <div id="fileLimitWarning" class="file-limit-warning">
                        <i class="fas fa-exclamation-triangle"></i> –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –≤ 5 —Ñ–∞–π–ª–æ–≤. –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª—ã —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ.
                    </div>
                </div>

                <div class="form-group">
                    <label for="projectDescription"><i class="fas fa-comment-alt"></i> –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</label>
                    <textarea id="projectDescription" class="form-control" placeholder="–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å, —Ü–µ–ª–∏, –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏, –º–∞—Ç–µ—Ä–∏–∞–ª (–µ—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ)..." required></textarea>
                </div>

                <div class="form-group">
                    <label for="userName"><i class="fas fa-user"></i> –í–∞—à–µ –∏–º—è</label>
                    <input type="text" id="userName" class="form-control" placeholder="–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤" required>
                </div>

                <div class="form-group">
                    <label for="userContact"><i class="fas fa-paper-plane"></i> –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏</label>
                    <input type="text" id="userContact" class="form-control" placeholder="Telegram, WhatsApp, Email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω" required>
                </div>

                <button type="submit" id="submitBtn" class="btn-submit">
                    <i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –Ω–∞ —Ä–∞—Å—á—ë—Ç
                </button>
            </form>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-logo">Elektro.Matter</div>
            <div class="footer-links">
                <a href="#">–û –Ω–∞—Å</a>
                <a href="#">–ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a>
                <a href="#">–ì–∞–ª–µ—Ä–µ—è</a>
                <a href="#">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
            </div>
            <p>¬© 2023 Elektro Corporation. –í—Å–µ —Å–≤—è–∑–∏ –≤–Ω—É—Ç—Ä–∏.</p>
        </div>
    </footer>

    <script>
        // ================== –ù–ê–°–¢–†–û–ô–ö–ò ==================
        // –ó–ê–ú–ï–ù–ò–¢–ï –≠–¢–ò –î–í–ï –°–¢–†–û–ö–ò –ù–ê –°–í–û–ò –î–ê–ù–ù–´–ï!
        const TELEGRAM_BOT_TOKEN = '8336861025:AAHPehzFSos46VLgELgwKzrGEcwo5zTlHpo';
        const TELEGRAM_CHAT_ID = '5247798280';
        // ===============================================

        // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
        const MAX_FILES = 5;
        const MAX_FILE_SIZE = 50 * 1024 * 1024; // 50 –ú–ë

        // –≠–ª–µ–º–µ–Ω—Ç—ã —Ñ–æ—Ä–º—ã
        const form = document.getElementById('orderForm');
        const fileInput = document.getElementById('modelFile');
        const fileList = document.getElementById('fileList');
        const fileCounter = document.getElementById('fileCounter');
        const fileCount = document.getElementById('fileCount');
        const fileLimitWarning = document.getElementById('fileLimitWarning');
        const submitBtn = document.getElementById('submitBtn');
        const alertSuccess = document.getElementById('alertSuccess');
        const alertError = document.getElementById('alertError');

        // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
        let filesArray = [];

        // –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 –ë';
            const k = 1024;
            const sizes = ['–ë', '–ö–ë', '–ú–ë', '–ì–ë'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–∏–º–∏—Ç–∞ —Ñ–∞–π–ª–æ–≤
        function checkFileLimit() {
            if (filesArray.length >= MAX_FILES) {
                fileLimitWarning.style.display = 'block';
                fileInput.disabled = true;
                return false;
            } else {
                fileLimitWarning.style.display = 'none';
                fileInput.disabled = false;
                return true;
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤
        fileInput.addEventListener('change', function(e) {
            const newFiles = Array.from(e.target.files);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
            if (filesArray.length + newFiles.length > MAX_FILES) {
                alert(`–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤: ${MAX_FILES}. –£ –≤–∞—Å —É–∂–µ –≤—ã–±—Ä–∞–Ω–æ ${filesArray.length} —Ñ–∞–π–ª–æ–≤.`);
                this.value = ''; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º input
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤
            for (const file of newFiles) {
                if (file.size > MAX_FILE_SIZE) {
                    alert(`–§–∞–π–ª "${file.name}" –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä 50 –ú–ë`);
                    this.value = '';
                    return;
                }
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –≤ –º–∞—Å—Å–∏–≤
            filesArray = [...filesArray, ...newFiles];
            updateFileList();
        });

        // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ñ–∞–π–ª–æ–≤
        function updateFileList() {
            fileList.innerHTML = '';
            
            filesArray.forEach((file, index) => {
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <span><i class="fas fa-file"></i> ${file.name}</span>
                    <div class="file-info">
                        <div class="file-size">${formatFileSize(file.size)}</div>
                        <button type="button" class="file-remove" data-index="${index}" title="–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                fileList.appendChild(fileItem);
            });

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
            fileCount.textContent = filesArray.length;
            if (filesArray.length > 0) {
                fileCounter.style.display = 'block';
            } else {
                fileCounter.style.display = 'none';
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç
            checkFileLimit();

            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è
            document.querySelectorAll('.file-remove').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    filesArray.splice(index, 1);
                    updateFileList();
                    fileInput.value = ''; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º input –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞ —Ç–µ—Ö –∂–µ —Ñ–∞–π–ª–æ–≤
                });
            });
        }

        // Drag and drop —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
        const fileUploadArea = document.querySelector('.file-upload');
        
        fileUploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadArea.style.borderColor = '#9bff00';
            fileUploadArea.style.background = 'rgba(155, 255, 0, 0.05)';
        });

        fileUploadArea.addEventListener('dragleave', () => {
            fileUploadArea.style.borderColor = '#444';
            fileUploadArea.style.background = 'transparent';
        });

        fileUploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadArea.style.borderColor = '#444';
            fileUploadArea.style.background = 'transparent';
            
            const droppedFiles = Array.from(e.dataTransfer.files);
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç
            if (filesArray.length + droppedFiles.length > MAX_FILES) {
                alert(`–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤: ${MAX_FILES}. –£ –≤–∞—Å —É–∂–µ –≤—ã–±—Ä–∞–Ω–æ ${filesArray.length} —Ñ–∞–π–ª–æ–≤.`);
                return;
            }
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã
            const allowedExtensions = ['.stl', '.obj', '.3mf', '.step', '.zip', '.rar'];
            const validFiles = droppedFiles.filter(file => {
                const ext = '.' + file.name.split('.').pop().toLowerCase();
                return allowedExtensions.includes(ext);
            });
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞
            for (const file of validFiles) {
                if (file.size > MAX_FILE_SIZE) {
                    alert(`–§–∞–π–ª "${file.name}" –ø—Ä–µ–≤—ã—à–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä 50 –ú–ë`);
                    return;
                }
            }
            
            if (validFiles.length > 0) {
                filesArray = [...filesArray, ...validFiles];
                updateFileList();
            } else {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏: .stl, .obj, .3mf, .step, .zip, .rar');
            }
        });

        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã
        form.addEventListener('submit', async function(e) {
            e.preventDefault();

            // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –û—Ç–ø—Ä–∞–≤–∫–∞...';

            // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è Telegram
            let messageText = `üÜï *–ù–û–í–´–ô –ó–ê–ö–ê–ó 3D-–ø–µ—á–∞—Ç–∏*\\n`;
            messageText += `\\n*–ü—Ä–æ–µ–∫—Ç:* ${document.getElementById('projectName').value}`;
            messageText += `\\n*–û–ø–∏—Å–∞–Ω–∏–µ:* ${document.getElementById('projectDescription').value}`;
            messageText += `\\n*–ö–ª–∏–µ–Ω—Ç:* ${document.getElementById('userName').value}`;
            messageText += `\\n*–ö–æ–Ω—Ç–∞–∫—Ç—ã:* ${document.getElementById('userContact').value}`;
            messageText += `\\n*–§–∞–π–ª–æ–≤:* ${filesArray.length} –∏–∑ ${MAX_FILES}`;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤
            if (filesArray.length > 0) {
                messageText += `\\n\\n*–°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤:*`;
                filesArray.forEach((file, index) => {
                    messageText += `\\n${index + 1}. ${file.name} (${formatFileSize(file.size)})`;
                });
            }
            
            messageText += `\\n\\n_–î–∞—Ç–∞: ${new Date().toLocaleString('ru-RU')}_`;

            try {
                // 1. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram
                await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        chat_id: TELEGRAM_CHAT_ID,
                        text: messageText,
                        parse_mode: 'Markdown'
                    })
                });

                // 2. –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)
                if (filesArray.length > 0) {
                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–π —Ñ–∞–π–ª –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
                    for (const file of filesArray) {
                        const fileFormData = new FormData();
                        fileFormData.append('chat_id', TELEGRAM_CHAT_ID);
                        fileFormData.append('document', file);
                        fileFormData.append('caption', `–§–∞–π–ª: ${file.name} (${formatFileSize(file.size)})`);
                        
                        await fetch(`https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendDocument`, {
                            method: 'POST',
                            body: fileFormData
                        });
                        
                        // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –æ—Ç–ø—Ä–∞–≤–∫–∞–º–∏
                        await new Promise(resolve => setTimeout(resolve, 500));
                    }
                }

                // –£—Å–ø–µ—Ö
                alertSuccess.style.display = 'block';
                alertError.style.display = 'none';
                form.reset();
                filesArray = [];
                updateFileList();
                
                // –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—é
                alertSuccess.scrollIntoView({ behavior: 'smooth' });

            } catch (error) {
                // –û—à–∏–±–∫–∞
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏:', error);
                alertError.style.display = 'block';
                alertSuccess.style.display = 'none';
                alertError.scrollIntoView({ behavior: 'smooth' });
            } finally {
                // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –Ω–∞ —Ä–∞—Å—á—ë—Ç';
            }
        });

        // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —è–∫–æ—Ä—è–º
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        checkFileLimit();
    </script>
</body>
</html>
